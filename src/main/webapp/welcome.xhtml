<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>
<h:head>
    <link href="styles/style.css" rel="stylesheet" />
    <link href="styles/block-layout.css" rel="stylesheet" />
    <link href="styles/inputs.css" rel="stylesheet" />
    <link
            href="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/PhpStorm_Icon.svg/512px-PhpStorm_Icon.svg.png"
            rel="shortcut icon"
            type="image/png"
    />
    <meta charset="UTF-8" />
    <title>Welcome to the club</title>

    <script>
        const CLOCK_UPDATE_INTERVAL = 11000;

        window.onload = () => {
            setInterval(
                function() {
                    document.getElementById("hiddenForm:updatePresentDateTime").click();
                }, CLOCK_UPDATE_INTERVAL,
            );

            document.getElementById("clockUpdateIntervalText").innerText = (CLOCK_UPDATE_INTERVAL / 1000).toString();
        }
    </script>
</h:head>
<h:body>
    <header>
        <table>
            <tr>
                <td><p>Марухленко Иван Сергеевич</p></td>
                <td><p>Группа: P3233</p></td>
                <td><p>Вариант: <a href="https://se.ifmo.ru/courses/web" target="_blank">8877</a></p></td>
            </tr>
        </table>
    </header>
    <h:form id="hiddenForm" style="display:none">
        <h:commandButton id="updatePresentDateTime">
            <c:ajax render="presentDateTime" />
        </h:commandButton>
    </h:form>
    <div class="base">
        <div class="main">
            <div class="content">
                <h1>Вельком!</h1><br />
                <p>
                    Это <b>стартовая страница</b>. <br />
                    <br />
                    Сверху находится шапка со всей необходимой информацией об её создателе.
                    Справа стандартные часики из библиотеки компонентов <b>PrimeFaces</b> (displayMode=analog).
                    Сразу под этим абзацем есть текстовое поле <i>с текущим временем</i>, обновление которого происходит
                    раз <b>в <b id="clockUpdateIntervalText"></b> сек</b>.
                </p><br />
                <h:outputText id="presentDateTime" value="Текущее время: #{clock.formatDateTime}" /><br />
                <p>Кнопка для перехода на основную страницу:</p>
                <h:form>
                    <h:commandButton id="to_index" action="finishWelcome" value="Тык!" />
                </h:form>
            </div>
        </div>

        <div class="main">
            <p:clock displayMode="analog" />
        </div>
    </div>
</h:body>
</html>
